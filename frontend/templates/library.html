<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auris - Asistente Acad√©mico Inclusivo</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/library.css') }}">
</head>
<body>
    <div class="app-container">
        <!-- Barra lateral izquierda -->
        <div class="sidebar">
            <div class="logo-container">
                <img src="/static/assets/images/logo.png" alt="Logo de Auris" style="width: 99px; height: 98px;">
            </div>
            <!-- Bot√≥n hamburguesa -->
            <button id="menu-toggle" class="menu-toggle">‚ò∞ Men√∫</button>
            <nav class="main-nav">
                <button id="btn-inicio" class="nav-button">INICIO</button>
                <button id="btn-modo-visual" class="nav-button">MODO VISUAL</button>
                <button id="btn-modo-auditivo" class="nav-button">MODO AUDITIVO</button>
                <button id="btn-biblioteca" class="nav-button active">BIBLIOTECA</button>
                <button id="btn-configuracion" class="nav-button">CONFIGURACI√ìN</button>
                <button id="btn-login" class="nav-button">CERRAR SESI√ìN</button>
            </nav>
        </div>

        <!-- Contenido principal - Biblioteca -->
        <main class="main-content">
            <div class="library-card">
                <div class="library-header">
                    <h2>Biblioteca</h2>
                    <p>Tus documentos y transcripciones guardadas</p>
                </div>
                
                <div class="library-search">
                    <input type="text" placeholder="Buscar en biblioteca..." class="search-input">
                    <button class="btn-search">Buscar</button>
                </div>
                
                <div class="library-filters">
                    <button class="filter-btn active">Todos</button>
                    <button class="filter-btn">Documentos</button>
                    <button class="filter-btn">Transcripciones</button>
                    <button class="filter-btn">Favoritos</button>
                </div>
                
                <div class="library-items">
                    <!-- Los documentos se cargar√°n din√°micamente aqu√≠ -->
                    <div id="loading-documents" class="loading-message">
                        Cargando documentos...
                    </div>
                    <div id="no-documents" class="no-documents-message" style="display: none;">
                        <p>No tienes documentos guardados a√∫n.</p>
                        <p>Ve al <a href="/modo_visual">Modo Visual</a> para crear y guardar documentos.</p>
                    </div>
                </div>
                
                <div class="pagination">
                    <button class="pagination-btn">Anterior</button>
                    <div class="pagination-numbers">
                        <span class="page-number active">1</span>
                        <span class="page-number">2</span>
                        <span class="page-number">3</span>
                    </div>
                    <button class="pagination-btn">Siguiente</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal para ver documento -->
    <div id="view-document-modal" class="document-modal" style="display: none;">
        <div class="document-modal-content">
            <div class="document-modal-header">
                <h3 id="view-document-title">T√≠tulo del documento</h3>
                <button class="modal-close" id="close-view-modal">&times;</button>
            </div>
            <div class="document-modal-body">
                <div class="document-content" id="view-document-content">
                    <!-- Contenido del documento -->
                </div>
                
                <!-- Controles de audio para documentos con audio guardado -->
                <div id="view-document-audio-controls" class="document-audio-controls" style="display: none;">
                    <h4>Audio del Documento</h4>
                    <div class="audio-player-container">
                        <audio id="document-audio-player" controls preload="metadata" style="width: 100%; margin-bottom: 10px;">
                            Tu navegador no soporta el elemento de audio.
                        </audio>
                        <button class="btn-play-document" id="play-document-audio-btn">‚ñ∂Ô∏è Reproducir Audio</button>
                    </div>
                </div>
                
                <div class="document-controls">
                    <button class="btn-play-document" id="play-document-btn">‚ñ∂Ô∏è Reproducir</button>
                    <div class="document-progress">
                        <div class="progress-bar" id="document-progress-bar"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para editar documento -->
    <div id="edit-document-modal" class="document-modal" style="display: none;">
        <div class="document-modal-content">
            <div class="document-modal-header">
                <h3>Editar Documento</h3>
                <button class="modal-close" id="close-edit-modal">&times;</button>
            </div>
            <div class="document-modal-body">
                <div class="form-group">
                    <label for="edit-document-title">T√≠tulo:</label>
                    <input type="text" id="edit-document-title" maxlength="50">
                    <small class="char-counter" id="edit-char-counter">0/50 caracteres</small>
                </div>
                <div class="form-group">
                    <label for="edit-document-content">Contenido:</label>
                    <textarea id="edit-document-content" rows="10"></textarea>
                </div>
                <div class="edit-actions">
                    <button class="btn-delete" id="delete-document-btn">üóëÔ∏è Eliminar</button>
                    <div class="edit-buttons">
                        <button class="btn-cancel" id="cancel-edit-btn">Cancelar</button>
                        <button class="btn-save" id="save-edit-btn">Guardar Cambios</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay para modales -->
    <div id="document-modal-overlay" class="modal-overlay" style="display: none;"></div>
    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/library.js') }}"></script>
</body>
</html>